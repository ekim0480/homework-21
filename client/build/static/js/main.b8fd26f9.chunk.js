(this.webpackJsonpmern=this.webpackJsonpmern||[]).push([[0],{30:function(e,n,t){e.exports=t(64)},35:function(e,n,t){},36:function(e,n,t){},37:function(e,n,t){},43:function(e,n,t){},61:function(e,n,t){},62:function(e,n,t){},64:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),l=t(28),r=t.n(l),c=(t(35),t(36),t(8)),i=t(1);t(37);var s=function(){return o.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},o.a.createElement(c.b,{className:"navbar-brand",to:"/"},"Books App"),o.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},o.a.createElement("ul",{className:"navbar-nav"},o.a.createElement("li",{className:"nav-item"},o.a.createElement(c.b,{className:"nav-link",to:"/"},"Search")),o.a.createElement("li",{className:"nav-item"},o.a.createElement(c.b,{className:"nav-link",to:"/saved"},"Saved")))))},u=t(11),m=t(12),f=t(14),v=t(13);t(43);function d(e){return o.a.createElement("div",{className:"input-group input-group-lg"},o.a.createElement("input",Object.assign({className:"form-control",type:"text"},e)))}function h(e){var n=e.type,t=void 0===n?"default":n,a=e.className,l=e.children,r=e.onClick;return o.a.createElement("button",{onClick:r,className:["search btn btn-lg","btn-".concat(t),a].join(" ")},l)}var p=t(10),g=t.n(p),E=function(e){return g.a.get("https://www.googleapis.com/books/v1/volumes?q="+e)},b=function(){return g.a.get("api/books")},k=function(e){return g.a.post("api/books",e)},w=function(e){return g.a.delete("api/books/"+e)},N=function(e){Object(f.a)(t,e);var n=Object(v.a)(t);function t(){var e;Object(u.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(e=n.call.apply(n,[this].concat(o))).state={search:"",results:[]},e.handleFormSubmit=function(n){n.preventDefault(),E(e.state.search).then((function(n){e.setState({results:n.data.items})}))},e.handleInputChange=function(n){n.preventDefault(),e.setState({search:n.target.value})},e}return Object(m.a)(t,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",null,o.a.createElement(d,{value:this.state.search,className:"form-control",type:"text",id:"searchInput",placeholder:"Search GoogleBooks",name:"search",onChange:this.handleInputChange}),o.a.createElement(h,{id:"searchBtn",className:"btn btn-primary",type:"submit",onClick:this.handleFormSubmit},"Search")),o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"card"},this.state.results.map((function(e){return console.log(e),o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement("p",null,e.volumeInfo.title),o.a.createElement("p",null,e.volumeInfo.authors),o.a.createElement("p",null,e.volumeInfo.description),o.a.createElement("img",{alt:"",src:e.volumeInfo.imageLinks.thumbnail}),o.a.createElement("br",null),o.a.createElement("a",{href:e.volumeInfo.infoLink},"Link"),o.a.createElement("button",{onClick:function(n){n.preventDefault(),console.log(e),k({authors:e.volumeInfo.authors,description:e.volumeInfo.description,image:e.volumeInfo.imageLinks.thumbnail,link:e.volumeInfo.infoLink,title:e.volumeInfo.title}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))}},"Save")))})))))}}]),t}(a.Component);t(61);var y=function(e){Object(f.a)(t,e);var n=Object(v.a)(t);function t(){var e;Object(u.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(e=n.call.apply(n,[this].concat(o))).state={saved:[]},e.renderSaved=function(n){b().then((function(n){e.setState({saved:n.data}),console.log(n.data)}))},e}return Object(m.a)(t,[{key:"componentDidMount",value:function(){this.renderSaved()}},{key:"render",value:function(){return o.a.createElement("div",{className:"card"},this.state.saved.map((function(e){return o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement("p",null,e.title),o.a.createElement("p",null,e.authors),o.a.createElement("p",null,e.description),o.a.createElement("img",{alt:"",src:e.image}),o.a.createElement("a",{href:e.link},"Link"),o.a.createElement("button",{onClick:function(){console.log("trying to delete",e),w(e._id).then((function(n){console.log("res",n),console.log("deleting",e._id)}))}},"delete")))})))}}]),t}(a.Component);t(62);var I=function(){return o.a.createElement("div",{className:"container-flex"},o.a.createElement("div",{class:"jumbotron"},o.a.createElement("h1",{class:"display-4"},"(React) Google Books Search"),o.a.createElement("p",{class:"lead"},"Search for and save books of interest.")))};var S=function(){return o.a.createElement(c.a,null,o.a.createElement(s,null),o.a.createElement(I,null),o.a.createElement(i.c,null,o.a.createElement(i.a,{exact:!0,path:"/"},o.a.createElement(N,null)),o.a.createElement(i.a,{exact:!0,path:"/saved"},o.a.createElement(y,null))))},j=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function C(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}t(63);r.a.render(o.a.createElement(S,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");j?function(e){fetch(e).then((function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):C(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):C(e)}))}}()}},[[30,1,2]]]);
//# sourceMappingURL=main.b8fd26f9.chunk.js.map